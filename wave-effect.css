/*
 * 【最終改良版】純 CSS 海浪效果
 * 這個版本移除了所有 SVG，回到唯一可運作的 border-radius 方案，
 * 並透過調整尺寸，讓波浪形狀更寬闊、更自然。
 * 新增了多步 Keyframe，讓波浪有自然的上下起伏。
 */

/* 主要容器，用來建立海浪的視窗 */
.ocean-container {
  position: relative !important;
  width: 100% !important;
  height: 250px !important;
  background: #f5f5f5; /* 淺灰色背景 */
  overflow: hidden !important;
  z-index: 0;
}

/* 這是構成每一層波浪的基礎樣式 */
.wave {
  display: block !important;
  position: absolute !important;
  border-radius: 100%; /* 使用圓角模擬波浪 */
  width: 400% !important; /* 【已優化】增加寬度讓曲線更平緩 */
  height: 400% !important; /* 【已優化】增加高度以配合寬度 */
  left: -150% !important; /* 【已優化】調整位置以置中 */
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}

/* 為不同層次的波浪設定不同的顏色、位置和動畫速度 */
.wave.wave1 {
  background: rgba(30, 58, 138, 0.7); /* 深藍 */
  bottom: -360% !important; /* 【已優化】配合新尺寸調整 */
  animation-name: wave-animation-1 !important;
  animation-duration: 15s !important;
  z-index: 2 !important;
}

.wave.wave2 {
  background: rgba(59, 130, 246, 0.5); /* 中藍 - 主海浪 */
  bottom: -357% !important; /* 【已優化】配合新尺寸調整 */
  animation-name: wave-animation-2 !important;
  animation-duration: 20s !important;
  z-index: 3 !important;
}

.wave.wave3 {
  background: rgba(96, 165, 250, 0.3); /* 淺藍 */
  bottom: -355% !important; /* 【已優化】配合新尺寸調整 */
  animation-name: wave-animation-3 !important;
  animation-duration: 18s !important;
  z-index: 4 !important;
}

/* 漂浮物體 - 芒果艦長 (在後面) */
.floating-object {
  display: block !important;
  position: absolute !important;
  width: 80px !important;
  height: 80px !important;
  bottom: 40px !important;
  left: -80px !important;
  background-image: url('https://taiwan.wordcamp.org/2025/files/2025/09/芒果艦長.png');
  background-size: contain !important;
  background-repeat: no-repeat !important;
  z-index: 9 !important; /* 在後面 */
  animation-name: float-animation !important;
  animation-duration: 25s !important;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}

/* 沉沒物體 - 水手 (在前面) */
.sinking-object {
  display: block !important;
  position: absolute !important;
  width: 100px !important;
  height: 100px !important;
  bottom: 30px !important;
  left: -100px !important;
  background-image: url('https://taiwan.wordcamp.org/2025/files/2025/09/水手_黑色邊框_v1.png');
  background-size: contain !important;
  background-repeat: no-repeat !important;
  z-index: 10 !important; /* 在前面 */
  animation-name: sinking-animation !important;
  animation-duration: 25s !important;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  animation-delay: -1.25s !important;
}

/* 【已更新】靜態冰山群 */
.iceberg {
  display: block !important;
  position: absolute !important;
  width: 200px !important;
  height: 160px !important;
  bottom: 0 !important;
  right: 15px !important;
  background: #e0e0e0 !important;
  z-index: 1 !important;
  clip-path: polygon(30% 0%, 40% 20%, 60% 10%, 75% 30%, 80% 25%, 100% 100%, 0% 100%);
  filter: drop-shadow(2px 0px 0 #000) drop-shadow(-2px 0px 0 #000) drop-shadow(0px -2px 0 #000) drop-shadow(2px -2px 0 #000) drop-shadow(-2px -2px 0 #000);
}

.iceberg-2 {
  display: block !important;
  position: absolute !important;
  width: 160px !important;
  height: 120px !important;
  bottom: 0 !important;
  right: 160px !important;
  background: #d0d0d0 !important;
  z-index: 1 !important;
  clip-path: polygon(20% 15%, 45% 0%, 60% 20%, 80% 10%, 100% 100%, 0% 100%);
  filter: drop-shadow(2px 0px 0 #000) drop-shadow(-2px 0px 0 #000) drop-shadow(0px -2px 0 #000);
}

.iceberg-3 {
  display: block !important;
  position: absolute !important;
  width: 100px !important;
  height: 80px !important;
  bottom: 0 !important;
  right: 0px !important;
  background: #c0c0c0 !important;
  z-index: 1 !important;
  clip-path: polygon(25% 0%, 50% 10%, 75% 0%, 100% 100%, 0% 100%);
  filter: drop-shadow(1.5px 0px 0 #000) drop-shadow(-1.5px 0px 0 #000) drop-shadow(0px -1.5px 0 #000);
}

/* 躍出海面的飛魚 (主魚) */
.flying-fish {
  display: block !important;
  position: absolute !important;
  width: 70px !important;
  height: 70px !important;
  left: -70px !important;
  bottom: 30px !important;
  background-image: url('https://taiwan.wordcamp.org/2025/files/2025/08/image-3.png');
  background-size: contain !important;
  background-repeat: no-repeat !important;
  z-index: 8 !important; /* 在船隻後面，在波浪之上 */
  opacity: 0;
  animation-name: fish-animation !important;
  animation-duration: 18s !important;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  animation-delay: 3s !important;
}

/* 【新增】飛魚夥伴 1 */
.flying-fish-2 {
  display: block !important;
  position: absolute !important;
  width: 70px !important;
  height: 70px !important;
  left: -70px !important;
  bottom: 30px !important;
  background-image: url('https://taiwan.wordcamp.org/2025/files/2025/08/image-3.png');
  background-size: contain !important;
  background-repeat: no-repeat !important;
  z-index: 8 !important;
  opacity: 0;
  transform: scale(0.9); /* 尺寸稍小 */
  animation-name: fish-animation !important;
  animation-duration: 17s !important; /* 速度稍快 */
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  animation-delay: 4.5s !important; /* 延遲出現 */
}

/* 【新增】飛魚夥伴 2 */
.flying-fish-3 {
  display: block !important;
  position: absolute !important;
  width: 70px !important;
  height: 70px !important;
  left: -70px !important;
  bottom: 30px !important;
  background-image: url('https://taiwan.wordcamp.org/2025/files/2025/08/image-3.png');
  background-size: contain !important;
  background-repeat: no-repeat !important;
  z-index: 8 !important;
  opacity: 0;
  transform: scale(1.1); /* 尺寸稍大 */
  animation-name: fish-animation !important;
  animation-duration: 19s !important; /* 速度稍慢 */
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  animation-delay: 6s !important; /* 更晚出現 */
}


/* 海浪動畫 */
@keyframes wave-animation-1 {
  0% { transform: translateX(0) translateY(0); }
  50% { transform: translateX(-12.5%) translateY(15px); }
  100% { transform: translateX(-25%) translateY(0); }
}

@keyframes wave-animation-2 {
  0% { transform: translateX(0) translateY(0); }
  50% { transform: translateX(-12.5%) translateY(-20px); }
  100% { transform: translateX(-25%) translateY(0); }
}

@keyframes wave-animation-3 {
  0% { transform: translateX(0) translateY(0); }
  50% { transform: translateX(-12.5%) translateY(10px); }
  100% { transform: translateX(-25%) translateY(0); }
}

/* 芒果艦長動畫 (電腦版) */
@keyframes float-animation {
  0% { transform: translateX(0vw) translateY(5px) rotate(2deg); }
  10% { transform: translateX(11vw) translateY(-10px) rotate(-5deg); }
  20% { transform: translateX(22vw) translateY(8px) rotate(4deg); }
  30% { transform: translateX(33vw) translateY(-15px) rotate(-8deg); }
  40% { transform: translateX(44vw) translateY(2px) rotate(3deg); }
  50% { transform: translateX(55vw) translateY(-12px) rotate(-6deg); }
  60% { transform: translateX(66vw) translateY(10px) rotate(5deg); }
  70% { transform: translateX(77vw) translateY(-8px) rotate(-4deg); }
  80% { transform: translateX(88vw) translateY(15px) rotate(8deg); }
  90% { transform: translateX(99vw) translateY(-5px) rotate(-2deg); }
  100% { transform: translateX(110vw) translateY(5px) rotate(2deg); }
}

/* 水手沉沒動畫 (電腦版) */
@keyframes sinking-animation {
  0%   { transform: translateX(0vw) translateY(10px) rotate(-2deg); opacity: 1; }
  10%  { transform: translateX(11vw) translateY(-5px) rotate(3deg); opacity: 1; }
  20%  { transform: translateX(22vw) translateY(12px) rotate(-4deg); opacity: 1; }
  30%  { transform: translateX(33vw) translateY(-8px) rotate(5deg); opacity: 1; }
  40%  { transform: translateX(44vw) translateY(15px) rotate(-6deg); opacity: 1; }
  50%  { transform: translateX(55vw) translateY(-10px) rotate(4deg); opacity: 1; }
  60%  { transform: translateX(66vw) translateY(8px) rotate(-2deg); opacity: 1; }
  70%  { transform: translateX(77vw) translateY(-12px) rotate(1deg); opacity: 1; }
  80%  { transform: translateX(88vw) translateY(5px) rotate(0deg); opacity: 1; }
  85%  { transform: translateX(93.5vw) translateY(-5px) rotate(-2deg); opacity: 1; }
  90%  { transform: translateX(99vw) translateY(40px) rotate(15deg); opacity: 1; }
  100% { transform: translateX(104.5vw) translateY(150px) rotate(45deg); opacity: 0; }
}

/* 【已更新】飛魚動畫，再次降低高度 */
@keyframes fish-animation {
  /* -- 第一個跳躍 -- */
  0%    { transform: translateX(0vw) translateY(5px) rotate(0deg); opacity: 0; }
  2%    { transform: translateX(3vw) translateY(1.25px) rotate(0deg); opacity: 1; }
  16.5% { transform: translateX(20vw) translateY(-8.75px) rotate(45deg); } /* 最高點 */
  31%   { transform: translateX(37vw) translateY(1.25px) rotate(90deg); opacity: 1; }
  33%   { transform: translateX(40vw) translateY(5px) rotate(90deg); opacity: 0; }
  /* -- 第二個跳躍 -- */
  33.1% { transform: translateX(40vw) translateY(5px) rotate(0deg); opacity: 0; }
  35.1% { transform: translateX(43vw) translateY(1.25px) rotate(0deg); opacity: 1; }
  49.5% { transform: translateX(60vw) translateY(-8.75px) rotate(45deg); }
  64.1% { transform: translateX(77vw) translateY(1.25px) rotate(90deg); opacity: 1; }
  66%   { transform: translateX(80vw) translateY(5px) rotate(90deg); opacity: 0; }
  /* -- 第三個跳躍 -- */
  66.1% { transform: translateX(80vw) translateY(5px) rotate(0deg); opacity: 0; }
  68.1% { transform: translateX(83vw) translateY(1.25px) rotate(0deg); opacity: 1; }
  82.5% { transform: translateX(100vw) translateY(-8.75px) rotate(45deg); }
  97.1% { transform: translateX(117vw) translateY(1.25px) rotate(90deg); opacity: 1; }
  100%  { transform: translateX(120vw) translateY(5px) rotate(90deg); opacity: 0; }
}

/* RWD 響應式設計 */
@media (max-width: 768px) {
  .ocean-container {
    height: 150px !important;
  }
  .floating-object, .sinking-object {
      width: 60px !important;
      height: 60px !important;
  }
  .floating-object {
    animation-name: float-animation-mobile !important;
  }
  .sinking-object {
    animation-name: sinking-animation-mobile !important;
  }
  .iceberg {
      width: 120px !important;
      height: 100px !important;
      right: 10px !important;
  }
  .iceberg-2 {
      width: 90px !important;
      height: 70px !important;
      right: 100px !important;
  }
  .iceberg-3 {
      width: 60px !important;
      height: 50px !important;
      right: 5px !important;
  }
  .flying-fish, .flying-fish-2, .flying-fish-3 {
      width: 50px !important;
      height: 50px !important;
      animation-name: fish-animation-mobile !important;
  }

  /* 芒果艦長動畫 (手機版) */
  @keyframes float-animation-mobile {
    0% { transform: translateX(0vw) translateY(3px) rotate(2deg); }
    10% { transform: translateX(11vw) translateY(-6px) rotate(-5deg); }
    20% { transform: translateX(22vw) translateY(5px) rotate(4deg); }
    30% { transform: translateX(33vw) translateY(-9px) rotate(-8deg); }
    40% { transform: translateX(44vw) translateY(1px) rotate(3deg); }
    50% { transform: translateX(55vw) translateY(-7px) rotate(-6deg); }
    60% { transform: translateX(66vw) translateY(6px) rotate(5deg); }
    70% { transform: translateX(77vw) translateY(-5px) rotate(-4deg); }
    80% { transform: translateX(88vw) translateY(9px) rotate(8deg); }
    90% { transform: translateX(99vw) translateY(-3px) rotate(-2deg); }
    100% { transform: translateX(110vw) translateY(3px) rotate(2deg); }
  }

  /* 水手沉沒動畫 (手機版) */
  @keyframes sinking-animation-mobile {
    0%   { transform: translateX(0vw) translateY(6px) rotate(-2deg); opacity: 1; }
    10%  { transform: translateX(11vw) translateY(-3px) rotate(3deg); opacity: 1; }
    20%  { transform: translateX(22vw) translateY(7px) rotate(-4deg); opacity: 1; }
    30%  { transform: translateX(33vw) translateY(-5px) rotate(5deg); opacity: 1; }
    40%  { transform: translateX(44vw) translateY(9px) rotate(-6deg); opacity: 1; }
    50%  { transform: translateX(55vw) translateY(-6px) rotate(4deg); opacity: 1; }
    60%  { transform: translateX(66vw) translateY(5px) rotate(-2deg); opacity: 1; }
    70%  { transform: translateX(77vw) translateY(-7px) rotate(1deg); opacity: 1; }
    80%  { transform: translateX(88vw) translateY(3px) rotate(0deg); opacity: 1; }
    85%  { transform: translateX(93.5vw) translateY(-3px) rotate(-2deg); opacity: 1; }
    90%  { transform: translateX(99vw) translateY(25px) rotate(15deg); opacity: 1; }
    100% { transform: translateX(104.5vw) translateY(90px) rotate(45deg); opacity: 0; }
  }

  /* 【已更新】手機版飛魚動畫，再次降低高度 */
  @keyframes fish-animation-mobile {
    /* -- 第一個跳躍 -- */
    0%    { transform: translateX(0vw) translateY(3px) rotate(0deg); opacity: 0; }
    2%    { transform: translateX(3vw) translateY(0.5px) rotate(0deg); opacity: 1; }
    16.5% { transform: translateX(20vw) translateY(-5.5px) rotate(45deg); }
    31%   { transform: translateX(37vw) translateY(0.5px) rotate(90deg); opacity: 1; }
    33%   { transform: translateX(40vw) translateY(3px) rotate(90deg); opacity: 0; }
    /* -- 第二個跳躍 -- */
    33.1% { transform: translateX(40vw) translateY(3px) rotate(0deg); opacity: 0; }
    35.1% { transform: translateX(43vw) translateY(0.5px) rotate(0deg); opacity: 1; }
    49.5% { transform: translateX(60vw) translateY(-5.5px) rotate(45deg); }
    64.1% { transform: translateX(77vw) translateY(0.5px) rotate(90deg); opacity: 1; }
    66%   { transform: translateX(80vw) translateY(3px) rotate(90deg); opacity: 0; }
    /* -- 第三個跳躍 -- */
    66.1% { transform: translateX(80vw) translateY(3px) rotate(0deg); opacity: 0; }
    68.1% { transform: translateX(83vw) translateY(1.25px) rotate(0deg); opacity: 1; }
    82.5% { transform: translateX(100vw) translateY(-5.5px) rotate(45deg); }
    97.1% { transform: translateX(117vw) translateY(0.5px) rotate(90deg); opacity: 1; }
    100%  { transform: translateX(120vw) translateY(3px) rotate(90deg); opacity: 0; }
  }
}

